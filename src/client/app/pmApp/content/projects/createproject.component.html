<mat-horizontal-stepper [linear]="true" #stepper="matHorizontalStepper">
  <mat-step [stepControl]="firstFormGroup">
      <ng-template matStepLabel>Project Basic Info</ng-template>
      <mat-accordion class="example-headers-align">
        <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>Company</mat-panel-title>
            <mat-panel-description>If you're developing for a Company, you could set that here<mat-icon>business</mat-icon></mat-panel-description>
          </mat-expansion-panel-header>
          <!-- Content -->
          <mat-form-field>
            <input matInput placeholder="Project Company" [(ngModel)]="project.company" [ngModelOptions]="{standalone: true}">
          </mat-form-field>
          <!-- Content -->
          <mat-action-row>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="step === 1" (opened)="setStep(1)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>Privacy</mat-panel-title>
            <mat-panel-description>Set the privacy visibility for this project.<mat-icon>vpn_lock</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- Content -->
          <mat-slide-toggle #privacyToggle color="accent" (change)="changeProjectPrivacyType(privacyToggle.checked)">{{ project.typeOf }}</mat-slide-toggle>
          <!-- Content -->
          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">Next</button>
          </mat-action-row>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)" hideToggle="true">
          <mat-expansion-panel-header>
            <mat-panel-title>Project Info</mat-panel-title>
            <mat-panel-description>Set name, description and budget for this project<mat-icon>label</mat-icon>
            </mat-panel-description>
          </mat-expansion-panel-header>
          <!-- Content -->
          <div class="flex_container">
            <form [formGroup]="firstFormGroup">
            <mat-form-field>
              <input matInput  required placeholder="Project Name" formControlName="projectName" [(ngModel)]="project.name">
            </mat-form-field>
            </form>
            <mat-form-field>
              <input matInput placeholder="Amount" type="number" value="{{slider.value}}" disabled>
              <span matPrefix>$&nbsp;</span>
              <span matSuffix>.00</span>
            </mat-form-field>
            <mat-slider #slider style="position:relative;width:100%" [(ngModel)]="project.budget" tickInterval="auto" [min]="0" [max]="50000" ></mat-slider>
            <mat-form-field>
              <textarea matInput  placeholder="This text should be concise and readable" [(ngModel)]="project.description" [ngModelOptions]="{standalone: true}"></textarea>
            </mat-form-field>
          </div>
          <!-- Content -->
          <mat-action-row>
            <button mat-button color="warn" (click)="prevStep()">Previous</button>
            <button mat-button color="primary" (click)="nextStep()">End</button>
          </mat-action-row>
        </mat-expansion-panel>

      </mat-accordion>
      <div>
        <!--<button mat-button matStepperNext>Next</button>-->
      </div>
  </mat-step>
  <mat-step>
      <ng-template matStepLabel>Invites</ng-template>
      <mat-accordion>

        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title>Invite members</mat-panel-title>
            <mat-panel-description>Invite users to work on your project</mat-panel-description>
          </mat-expansion-panel-header>
          <app-invite-member (addInvite)="onInvite($event)" [userEmail]="user.email" [project]="project" ></app-invite-member>
        </mat-expansion-panel>

        <mat-expansion-panel [expanded]="false">
          <mat-expansion-panel-header>
            <mat-panel-title>Invited Members</mat-panel-title>
            <mat-panel-description>Total: {{ membersToInvite.length }}</mat-panel-description>
          </mat-expansion-panel-header>
          <p *ngIf="membersToInvite.length < 1">You have not invited yet someone to this project</p>
          <mat-chip-list *ngFor="let member of membersToInvite">
            <mat-chip matTooltip="Remove" (click)="removeInvite(member)" color="primary" selected="true">{{ member }}</mat-chip>
          </mat-chip-list>
        </mat-expansion-panel>
      </mat-accordion>
      <div>
        <!--<button mat-button matStepperPrevious>Back</button>-->
        <!--<button mat-button matStepperNext>Next</button>-->
      </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Create Project</ng-template>
    <span>You have completed the basic info.Keep in mind that these can be changed later into the project settings.</span>
    <mat-expansion-panel>
      <mat-expansion-panel-header>
        <mat-panel-title>{{project.name}}</mat-panel-title>
        <mat-panel-description>Review Info</mat-panel-description>
      </mat-expansion-panel-header>
      <mat-form-field>
        <input matInput placeholder="Company" [(ngModel)]="project.company" disabled>
      </mat-form-field>
      <mat-form-field>
        <input matInput placeholder="Amount" type="number" [value]="project.budget" disabled>
        <span matPrefix>$&nbsp;</span>
        <span matSuffix>.00</span>
      </mat-form-field>
    </mat-expansion-panel>
    <div>
      <!--<button mat-button matStepperPrevious>Back</button>-->
      <button mat-button (click)="stepper.reset()">Reset</button>
      <button mat-raised-button color="accent" (click)="onSubmit()">Done</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
